<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ứng dụng Flashcard</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for card flip animation */
        .flashcard-container {
            perspective: 1000px; /* Required for 3D flip effect */
        }

        .flashcard {
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d; /* Keep 3D transformation for children */
            position: relative;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Hide the back face when rotated */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 1rem; /* Rounded corners for the card */
            padding: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .flashcard-front {
            background-color: #fff;
            color: #333;
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
        }

        .flashcard-back {
            background-color: #4f46e5; /* Indigo 600 */
            color: #fff;
            transform: rotateY(180deg); /* Initially rotated to be visible when flipped */
            text-align: center;
            font-size: 1.25rem;
        }

        .flashcard-back .word {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .flashcard-back .phonetic {
            font-size: 1.25rem;
            font-style: italic;
            margin-bottom: 1rem;
        }

        .flashcard-back .example {
            font-size: 1rem;
            line-height: 1.5;
        }

        /* Button styling */
        .btn {
            @apply px-6 py-3 rounded-full font-semibold text-lg transition-all duration-300 ease-in-out;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .btn-primary {
            @apply bg-indigo-600 text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75;
        }

        .btn-secondary {
            @apply bg-gray-200 text-gray-800 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .flashcard-container {
                height: 300px; /* Adjust height for smaller screens */
            }
            .flashcard-front, .flashcard-back {
                font-size: 1.2rem;
                padding: 1rem;
            }
            .flashcard-back .word {
                font-size: 1.75rem;
            }
            .flashcard-back .phonetic {
                font-size: 1rem;
            }
            .flashcard-back .example {
                font-size: 0.9rem;
            }
            .btn {
                @apply px-4 py-2 text-base;
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center p-4 font-sans">

    <div class="max-w-xl w-full flex flex-col items-center gap-6">
        <!-- Flashcard Display -->
        <div id="flashcardContainer" class="flashcard-container w-full h-96 bg-transparent rounded-2xl relative">
            <div id="flashcard" class="flashcard">
                <div id="flashcardFront" class="flashcard-face flashcard-front">
                    <!-- Vietnamese meaning will be displayed here -->
                </div>
                <div id="flashcardBack" class="flashcard-face flashcard-back">
                    <div class="word" id="word"></div>
                    <div class="phonetic" id="phonetic"></div>
                    <div class="example" id="example"></div>
                </div>
            </div>
        </div>

        <!-- Navigation and Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 w-full justify-center">
            <button id="prevBtn" class="btn btn-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
                Trước
            </button>
            <button id="flipBtn" class="btn btn-primary flex-grow">
                Lật Thẻ (Space)
            </button>
            <button id="nextBtn" class="btn btn-secondary">
                Tiếp Theo
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>

        <button id="shuffleBtn" class="btn btn-secondary w-full sm:w-auto mt-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004 12v.622m15.356-2A8.001 8.001 0 0120 12v.622m-2.404 1.968c-.663 1.212-1.673 2.222-2.885 2.885M13.5 20H4v-5h.582m15.356-2A8.001 8.001 0 004 12v.622m15.356-2A8.001 8.001 0 0120 12v.622" />
            </svg>
            Trộn Thẻ
        </button>
    </div>

    <script>
        // Dữ liệu flashcard
        const flashcardsData = [
            {
                vietnamese: "Nền văn minh, xã hội văn minh.",
                word: "Civilization",
                phonetic: "/ˌsɪvəlɪˈzeɪʃən/",
                example: "Cô ấy cảm thấy thật xa rời civilization."
            },
            {
                vietnamese: "Tiện lợi, thuận tiện.",
                word: "Convenient",
                phonetic: "/kənˈviːniənt/",
                example: "Cô ấy nhớ cuộc sống convenient của mình ở thành phố."
            },
            {
                vietnamese: "Hang (động vật), sào huyệt, phòng riêng (thường là phòng đọc sách hoặc giải trí).",
                word: "Den",
                phonetic: "/dɛn/",
                example: "“Nhìn kìa,” ông ấy nói, “đó là một cái den của cáo”."
            },
            {
                vietnamese: "Sương, hạt sương.",
                word: "Dew",
                phonetic: "/duː/ hoặc /djuː/",
                example: "Cỏ được bao phủ bởi dew, và nó lấp lánh dưới ánh mặt trời."
            },
            {
                vietnamese: "Quyết liệt, mạnh mẽ, nghiêm trọng (thường chỉ sự thay đổi hoặc biện pháp).",
                word: "Drastic",
                phonetic: "/ˈdræstɪk/",
                example: "Đó là một sự thay đổi drastic so với thời tiết ngày hôm trước."
            },
            {
                vietnamese: "Thoát ra, đi ra, rời khỏi.",
                word: "Exit",
                phonetic: "/ˈɛɡzɪt/",
                example: "Cô ấy cảm thấy buồn khi họ exited công viên."
            },
            {
                vietnamese: "Đàn (chim, cừu), đám đông.",
                word: "Flock",
                phonetic: "/flɒk/",
                example: "Cây sậy đu đưa trong gió, và một flock chim bay lượn phía trên."
            },
            {
                vietnamese: "Gấp, gập lại.",
                word: "Fold",
                phonetic: "/foʊld/",
                example: "Họ folded túi ngủ của mình và đặt chúng vào một cái hộp."
            },
            {
                vietnamese: "Nắp, vung (nồi, hộp).",
                word: "Lid",
                phonetic: "/lɪd/",
                example: "Tracy đóng cái lid lại và nói với Kara, “Hôm nay sẽ rất vui, tớ hứa đấy!”."
            },
            {
                vietnamese: "Hiện ra lờ mờ, lù lù hiện ra (thường là vật lớn, đáng sợ hoặc quan trọng sắp xảy ra).",
                word: "Loom",
                phonetic: "/luːm/",
                example: "Khi ngày trôi qua, những đám mây mighty sớm loomed ở đằng xa."
            },
            {
                vietnamese: "Hùng mạnh, to lớn, vĩ đại.",
                word: "Mighty",
                phonetic: "/ˈmaɪti/",
                example: "Khi ngày trôi qua, những đám mây mighty sớm loomed ở đằng xa."
            },
            {
                vietnamese: "Nấm.",
                word: "Mushroom",
                phonetic: "/ˈmʌʃruːm/ hoặc /ˈmʌʃrʊm/",
                example: "Bạn có thấy chùm mushrooms bên cạnh nó không."
            },
            {
                vietnamese: "Bản địa, thổ dân, bẩm sinh.",
                word: "Native",
                phonetic: "/ˈneɪtɪv/",
                example: "Cha của Tracy, ông Grieves, chỉ cho họ các loài thực vật và động vật native."
            },
            {
                vietnamese: "Chất độc, thuốc độc.",
                word: "Poison",
                phonetic: "/ˈpɔɪzən/",
                example: "Chúng chứa poison."
            },
            {
                vietnamese: "Cây sậy, cây lau.",
                word: "Reed",
                phonetic: "/riːd/",
                example: "The reeds swayed in the wind, and a flock of birds flew above."
            },
            {
                vietnamese: "Che chắn, bảo vệ.",
                word: "Shield",
                phonetic: "/ʃiːld/",
                example: "Họ dùng ô để shield mình khỏi cơn mưa."
            },
            {
                vietnamese: "Có bão, giông bão, dữ dội (thường chỉ thời tiết hoặc mối quan hệ).",
                word: "Stormy",
                phonetic: "/ˈstɔːrmi/",
                example: "“Trông như thời tiết stormy,” Tracy nói."
            },
            {
                vietnamese: "Đung đưa, lắc lư, lung lay, ảnh hưởng.",
                word: "Sway",
                phonetic: "/sweɪ/",
                example: "The reeds swayed in the wind, and a flock of birds flew above."
            },
            {
                vietnamese: "Đô thị, thành thị.",
                word: "Urban",
                phonetic: "/ˈɜːrbən/",
                example: "Cô ấy đã quen với lối sống urban."
            },
            {
                vietnamese: "Lội qua (nước, bùn), lội bộ.",
                word: "Wade",
                phonetic: "/weɪd/",
                example: "Kara và Tracy waded xuống nước."
            }
        ];

        let currentCardIndex = 0;
        let isFlipped = false;
        let shuffledCards = [...flashcardsData]; // Bắt đầu với một bản sao để trộn

        // Lấy các phần tử DOM
        const flashcard = document.getElementById('flashcard');
        const flashcardFront = document.getElementById('flashcardFront');
        const flashcardBack = document.getElementById('flashcardBack');
        const wordEl = document.getElementById('word');
        const phoneticEl = document.getElementById('phonetic');
        const exampleEl = document.getElementById('example');
        const prevBtn = document.getElementById('prevBtn');
        const flipBtn = document.getElementById('flipBtn');
        const nextBtn = document.getElementById('nextBtn');
        const shuffleBtn = document.getElementById('shuffleBtn');

        // Hàm hiển thị thẻ hiện tại
        function displayCard() {
            const card = shuffledCards[currentCardIndex];
            flashcardFront.textContent = card.vietnamese;
            wordEl.textContent = card.word;
            phoneticEl.textContent = card.phonetic;
            exampleEl.textContent = card.example;

            // Đảm bảo thẻ luôn ở mặt trước khi chuyển sang thẻ mới
            if (isFlipped) {
                flashcard.classList.remove('flipped');
                isFlipped = false;
            }
        }

        // Hàm lật thẻ
        function flipCard() {
            flashcard.classList.toggle('flipped');
            isFlipped = !isFlipped;
        }

        // Hàm chuyển đến thẻ tiếp theo
        function nextCard() {
            currentCardIndex = (currentCardIndex + 1) % shuffledCards.length;
            displayCard();
        }

        // Hàm chuyển đến thẻ trước đó
        function prevCard() {
            currentCardIndex = (currentCardIndex - 1 + shuffledCards.length) % shuffledCards.length;
            displayCard();
        }

        // Hàm trộn thẻ (Fisher-Yates shuffle algorithm)
        function shuffleCards() {
            for (let i = shuffledCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledCards[i], shuffledCards[j]] = [shuffledCards[j], shuffledCards[i]];
            }
            currentCardIndex = 0; // Reset về thẻ đầu tiên sau khi trộn
            displayCard();
        }

        // Gắn sự kiện cho các nút
        flipBtn.addEventListener('click', flipCard);
        nextBtn.addEventListener('click', nextCard);
        prevBtn.addEventListener('click', prevCard);
        shuffleBtn.addEventListener('click', shuffleCards);

        // Xử lý sự kiện bàn phím
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                nextCard();
            } else if (e.key === 'ArrowLeft') {
                prevCard();
            } else if (e.key === ' ' || e.key === 'Spacebar') { // Spacebar
                e.preventDefault(); // Ngăn chặn cuộn trang khi nhấn Space
                flipCard();
            }
        });

        // Xử lý sự kiện vuốt trên điện thoại
        let touchStartX = 0;
        let touchEndX = 0;
        const minSwipeDistance = 50; // Khoảng cách vuốt tối thiểu để kích hoạt

        flashcard.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX;
        });

        flashcard.addEventListener('touchmove', (e) => {
            touchEndX = e.touches[0].clientX;
        });

        flashcard.addEventListener('touchend', () => {
            const distance = touchEndX - touchStartX;
            if (distance > minSwipeDistance) {
                // Vuốt sang phải (trước đó)
                prevCard();
            } else if (distance < -minSwipeDistance) {
                // Vuốt sang trái (tiếp theo)
                nextCard();
            }
            // Reset touch coordinates
            touchStartX = 0;
            touchEndX = 0;
        });

        // Khởi tạo ứng dụng khi tải trang
        document.addEventListener('DOMContentLoaded', () => {
            shuffleCards(); // Trộn thẻ lần đầu khi tải trang
            displayCard(); // Hiển thị thẻ đầu tiên
        });
    </script>
</body>
</html>
