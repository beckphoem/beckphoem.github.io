<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ứng Dụng Flashcard Tiếng Anh</title>
    <!-- Tải Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Màu nền nhẹ nhàng */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .flashcard-container {
            width: 100%;
            max-width: 600px; /* Chiều rộng tối đa cho flashcard */
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .flashcard {
            background-color: #ffffff;
            border-radius: 12px; /* Góc bo tròn */
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); /* Hiệu ứng đổ bóng mềm mại */
            width: 100%;
            min-height: 250px; /* Chiều cao tối thiểu của thẻ */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.4s ease-in-out; /* Hiệu ứng lật mượt mà */
            position: relative; /* Cho nội dung bên trong */
            transform-style: preserve-3d; /* Để hiệu ứng 3D hoạt động */
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-inner {
            width: 100%;
            height: 100%;
            position: absolute;
            backface-visibility: hidden; /* Ẩn mặt sau khi không nhìn thấy */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .flashcard-front {
            z-index: 2;
            transform: rotateY(0deg);
        }

        .flashcard-back {
            transform: rotateY(180deg);
        }

        .flashcard h2 {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d3748; /* Màu chữ đậm */
            margin-bottom: 15px;
        }

        .flashcard p {
            font-size: 1.1rem;
            color: #4a5568; /* Màu chữ trung tính */
            line-height: 1.6;
        }

        .flashcard ul {
            list-style: none;
            padding: 0;
            margin-top: 15px;
            text-align: left;
            width: 100%;
            max-width: 400px;
        }

        .flashcard ul li {
            margin-bottom: 8px;
            color: #6c757d;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px; /* Khoảng cách giữa các nút */
            margin-top: 20px;
        }

        .control-button {
            background-color: #4299e1; /* Màu xanh dương nhạt */
            color: white;
            padding: 12px 25px;
            border-radius: 8px; /* Góc bo tròn cho nút */
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: none;
            outline: none;
        }

        .control-button:hover {
            background-color: #3182ce; /* Màu xanh đậm hơn khi hover */
            transform: translateY(-2px); /* Nâng nhẹ nút lên */
        }

        .control-button:active {
            transform: translateY(0); /* Nhấn xuống khi click */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .keyboard-info {
            font-size: 0.9rem;
            color: #718096; /* Màu chữ xám */
            margin-top: 20px;
            text-align: center;
        }

        @media (max-width: 640px) {
            .flashcard {
                padding: 20px;
                min-height: 200px;
            }
            .flashcard h2 {
                font-size: 1.5rem;
            }
            .flashcard p {
                font-size: 1rem;
            }
            .control-button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body class="selection:bg-blue-200">
    <div class="flashcard-container">
        <h1 class="text-3xl font-extrabold text-gray-800 mb-6">Flashcard Tiếng Anh</h1>
        <div id="flashcard" class="flashcard" onclick="toggleAnswer()">
            <div id="flashcard-front" class="flashcard-inner flashcard-front">
                <p id="definition" class="text-xl font-semibold text-gray-700"></p>
            </div>
            <div id="flashcard-back" class="flashcard-inner flashcard-back hidden">
                <h2 id="vocabulary" class="text-2xl font-bold text-gray-800"></h2>
                <p id="partOfSpeech" class="text-lg text-gray-600 mb-2"></p>
                <p id="pronunciation" class="text-md text-gray-500 italic mb-4"></p>
                <ul id="examples" class="text-left"></ul>
            </div>
        </div>

        <div class="controls">
            <button id="prevBtn" class="control-button">Thẻ Trước (←)</button>
            <button id="showAnswerBtn" class="control-button">Hiện/Ẩn Đáp Án (Space)</button>
            <button id="nextBtn" class="control-button">Thẻ Tiếp (→)</button>
            <button id="shuffleBtn" class="control-button">Trộn Thẻ (↓)</button>
        </div>

        <div class="keyboard-info">
            <p>Sử dụng các phím điều hướng để di chuyển và phím Space để xem/ẩn đáp án.</p>
            <p>Phím ↓ để trộn thẻ.</p>
        </div>
    </div>

    <script>
        // Dữ liệu Flashcard
        const flashcardsData = [
            {
                definition: "liên minh, sự liên kết giữa các nhóm hoặc quốc gia.",
                vocabulary: "alliance",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "They formed an alliance.",
                    "The countries have made an alliance.",
                    "An alliance can be for peace."
                ]
            },
            {
                definition: "tiếng vỗ tay (để thể hiện sự tán thành).",
                vocabulary: "applause",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "The audience gave applause.",
                    "She is listening to the applause.",
                    "Applause shows approval."
                ]
            },
            {
                definition: "có vũ trang (mang theo vũ khí).",
                vocabulary: "armed",
                partOfSpeech: "adj",
                pronunciation: "",
                examples: [
                    "The guards are armed.",
                    "He was armed with a gun.",
                    "We were facing armed men.",
                    "In 1940, armed German troops entered Paris."
                ]
            },
            {
                definition: "có thẩm quyền, đáng tin cậy (được tôn trọng vì kiến thức hoặc vị trí).",
                vocabulary: "authoritative",
                partOfSpeech: "adj",
                pronunciation: "",
                examples: [
                    "He has an authoritative voice.",
                    "She is an authoritative source.",
                    "You should listen to authoritative advice.",
                    "Baker sorted the details and gave authoritative reports to the Resistance."
                ]
            },
            {
                definition: "buổi lễ, nghi thức (một sự kiện trang trọng cho một dịp đặc biệt).",
                vocabulary: "ceremony",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "They held a ceremony.",
                    "She is attending a ceremony.",
                    "I am going to the wedding ceremony.",
                    "When she died, the army had a special ceremony to thank her again for her bravery."
                ]
            },
            {
                definition: "văn hóa (tập quán, nghệ thuật, lối sống của một nhóm người).",
                vocabulary: "culture",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "We are learning about a new culture.",
                    "She is studying Japanese culture.",
                    "Culture includes traditions.",
                    "Josephine Baker was a big part of the new jazz genre and culture."
                ]
            },
            {
                definition: "sự phòng thủ, sự bảo vệ (hành động bảo vệ khỏi bị tấn công).",
                vocabulary: "defense",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "They built a strong defense.",
                    "She is playing defense.",
                    "You will need a good defense.",
                    "The French Resistance group worked for the defense of France."
                ]
            },
            {
                definition: "chi tiết (một phần nhỏ của cái gì đó lớn hơn).",
                vocabulary: "detail",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "Pay attention to the details.",
                    "She is explaining the details.",
                    "A detail can be small but important.",
                    "Baker listened for details about the war and wrote them down."
                ]
            },
            {
                definition: "đa dạng (gồm nhiều loại khác nhau).",
                vocabulary: "diverse",
                partOfSpeech: "adj",
                pronunciation: "",
                examples: [
                    "The group is diverse.",
                    "She has diverse interests.",
                    "You should appreciate diverse perspectives.",
                    "Josephine Baker had a diverse group of fans."
                ]
            },
            {
                definition: "làm say mê, làm mê hoặc (làm ai đó cảm thấy rất vui hoặc thích thú).",
                vocabulary: "enchant",
                partOfSpeech: "v",
                pronunciation: "",
                examples: [
                    "The music enchants me.",
                    "He was enchanted by her beauty.",
                    "You will be enchanted by the place.",
                    "She enchanted them with her singing and dancing."
                ]
            },
            {
                definition: "trang bị (cung cấp thiết bị cần thiết).",
                vocabulary: "equip",
                partOfSpeech: "v",
                pronunciation: "",
                examples: [
                    "They equip the soldiers.",
                    "He was equipped with the right tools.",
                    "You will be equipped for the task.",
                    "Baker was always equipped with a small notebook at these concerts."
                ]
            },
            {
                definition: "ngoại lệ (một trường hợp không tuân theo quy tắc chung).",
                vocabulary: "exception",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "There is an exception to the rule.",
                    "She is an exception.",
                    "I would make an exception for you.",
                    "Josephine Baker was an exception; she did not only care about herself despite being famous."
                ]
            },
            {
                definition: "thể loại (một loại nghệ thuật, âm nhạc, văn học, v.v.).",
                vocabulary: "genre",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "What is your favorite genre?.",
                    "He likes the horror genre.",
                    "A genre has specific characteristics.",
                    "Josephine Baker was a big part of the new jazz genre."
                ]
            },
            {
                definition: "tác động, ảnh hưởng (ảnh hưởng mạnh mẽ đến cái gì đó).",
                vocabulary: "impact",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "It had a big impact.",
                    "She is studying the environmental impact.",
                    "You should think about the impact of your actions.",
                    "Baker had a big impact on the Resistance’s work."
                ]
            },
            {
                definition: "dụ dỗ, lôi kéo (thuyết phục ai đó làm điều gì đó bằng cách hứa hẹn điều gì đó tốt đẹp).",
                vocabulary: "lure",
                partOfSpeech: "v",
                pronunciation: "",
                examples: [
                    "He tries to lure her.",
                    "They have lured him into a trap.",
                    "You will lure them with food.",
                    "Baker lured them in, promising an entertaining show."
                ]
            },
            {
                definition: "chướng ngại vật (một thứ ngăn cản bạn tiến lên hoặc đạt được mục tiêu).",
                vocabulary: "obstacle",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "He faced an obstacle.",
                    "She is overcoming an obstacle.",
                    "An obstacle can be physical or mental.",
                    "Some thought Baker’s fame would be an obstacle."
                ]
            },
            {
                definition: "nơi trú ẩn, chỗ ở (nơi an toàn khỏi nguy hiểm hoặc thời tiết xấu).",
                vocabulary: "shelter",
                partOfSpeech: "n",
                pronunciation: "",
                examples: [
                    "They found shelter.",
                    "She is looking for shelter.",
                    "A shelter protects you.",
                    "Baker's second job was to provide shelter to Resistance members."
                ]
            },
            {
                definition: "phân loại, sắp xếp (đặt mọi thứ vào đúng thứ tự hoặc nhóm).",
                vocabulary: "sort",
                partOfSpeech: "v",
                pronunciation: "",
                examples: [
                    "He sorts the mail.",
                    "She is sorting the clothes.",
                    "You should sort them before putting them away.",
                    "Baker sorted the details and gave authoritative reports to the Resistance."
                ]
            },
            {
                definition: "cung cấp (cho ai đó cái họ cần).",
                vocabulary: "supply",
                partOfSpeech: "v",
                pronunciation: "",
                examples: [
                    "They supply food.",
                    "He supplied us with water.",
                    "You should supply what is needed.",
                    "Baker's second job was to supply goods to Resistance members."
                ]
            },
            {
                definition: "vô ích, không có kết quả; kiêu ngạo, tự phụ (quá quan tâm đến vẻ ngoài của mình).",
                vocabulary: "vain",
                partOfSpeech: "adj",
                pronunciation: "",
                examples: [
                    "It was a vain attempt.",
                    "She is very vain.",
                    "He made a vain attempt to fix it.",
                    "Sometimes famous people are vain, meaning they only care about themselves."
                ]
            }
        ];

        let currentCardIndex = 0;
        let isAnswerShown = false;
        let flashcards = [...flashcardsData]; // Tạo bản sao để có thể trộn

        // Lấy các phần tử DOM
        const flashcardElement = document.getElementById('flashcard');
        const definitionElement = document.getElementById('definition');
        const vocabularyElement = document.getElementById('vocabulary');
        const partOfSpeechElement = document.getElementById('partOfSpeech');
        const pronunciationElement = document.getElementById('pronunciation');
        const examplesElement = document.getElementById('examples');
        const frontElement = document.getElementById('flashcard-front');
        const backElement = document.getElementById('flashcard-back');

        const prevBtn = document.getElementById('prevBtn');
        const showAnswerBtn = document.getElementById('showAnswerBtn');
        const nextBtn = document.getElementById('nextBtn');
        const shuffleBtn = document.getElementById('shuffleBtn');

        /**
         * Hiển thị nội dung của thẻ flashcard hiện tại.
         * Cập nhật cả mặt trước (định nghĩa) và mặt sau (từ vựng, ví dụ).
         */
        function displayCard() {
            const card = flashcards[currentCardIndex];

            // Cập nhật mặt trước (định nghĩa tiếng Việt)
            definitionElement.textContent = card.definition;

            // Cập nhật mặt sau (từ vựng, phiên âm, ví dụ)
            vocabularyElement.textContent = card.vocabulary;
            partOfSpeechElement.textContent = `(${card.partOfSpeech})`;
            pronunciationElement.textContent = card.pronunciation ? `Phiên âm: ${card.pronunciation}` : "Phiên âm: (Chưa cung cấp)";

            examplesElement.innerHTML = ''; // Xóa các ví dụ cũ
            card.examples.forEach(example => {
                const li = document.createElement('li');
                li.textContent = `- ${example}`;
                examplesElement.appendChild(li);
            });

            // Ẩn/hiện mặt trước/sau dựa trên trạng thái `isAnswerShown`
            if (isAnswerShown) {
                frontElement.classList.add('hidden');
                backElement.classList.remove('hidden');
                flashcardElement.classList.add('flipped');
            } else {
                frontElement.classList.remove('hidden');
                backElement.classList.add('hidden');
                flashcardElement.classList.remove('flipped');
            }
        }

        /**
         * Chuyển đổi giữa mặt trước và mặt sau của thẻ.
         */
        function toggleAnswer() {
            isAnswerShown = !isAnswerShown;
            displayCard();
        }

        /**
         * Chuyển đến thẻ flashcard tiếp theo.
         * Quay lại thẻ đầu tiên nếu đã ở thẻ cuối cùng.
         */
        function nextCard() {
            currentCardIndex = (currentCardIndex + 1) % flashcards.length;
            isAnswerShown = false; // Đảm bảo ẩn đáp án khi chuyển thẻ
            displayCard();
        }

        /**
         * Chuyển đến thẻ flashcard trước đó.
         * Chuyển đến thẻ cuối cùng nếu đã ở thẻ đầu tiên.
         */
        function prevCard() {
            currentCardIndex = (currentCardIndex - 1 + flashcards.length) % flashcards.length;
            isAnswerShown = false; // Đảm bảo ẩn đáp án khi chuyển thẻ
            displayCard();
        }

        /**
         * Trộn ngẫu nhiên thứ tự các thẻ flashcard.
         * Sử dụng thuật toán Fisher-Yates shuffle.
         */
        function shuffleCards() {
            for (let i = flashcards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [flashcards[i], flashcards[j]] = [flashcards[j], flashcards[i]]; // Hoán đổi vị trí
            }
            currentCardIndex = 0; // Đặt lại về thẻ đầu tiên sau khi trộn
            isAnswerShown = false; // Ẩn đáp án
            displayCard();
        }

        // Gán các sự kiện cho nút bấm
        prevBtn.addEventListener('click', prevCard);
        showAnswerBtn.addEventListener('click', toggleAnswer);
        nextBtn.addEventListener('click', nextCard);
        shuffleBtn.addEventListener('click', shuffleCards);

        // Gán các sự kiện cho phím điều hướng
        document.addEventListener('keydown', (event) => {
            switch (event.key) {
                case 'ArrowLeft': // Phím mũi tên trái
                    prevCard();
                    break;
                case 'ArrowRight': // Phím mũi tên phải
                    nextCard();
                    break;
                case ' ': // Phím Spacebar
                    event.preventDefault(); // Ngăn chặn cuộn trang khi nhấn Space
                    toggleAnswer();
                    break;
                case 'ArrowDown': // Phím mũi tên xuống
                    shuffleCards();
                    break;
            }
        });

        // Hiển thị thẻ đầu tiên khi tải trang
        document.addEventListener('DOMContentLoaded', displayCard);
    </script>
</body>
</html>
